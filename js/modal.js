(function(){if(typeof window.CustomEvent==="function"){return false}function a(c,d){d=d||{bubbles:false,cancelable:false,detail:undefined};var b=document.createEvent("CustomEvent");b.initCustomEvent(c,d.bubbles,d.cancelable,d.detail);return b}a.prototype=window.Event.prototype;window.CustomEvent=a})();var modalOpenEvent=new CustomEvent("modal_open"),modalCloseEvent=new CustomEvent("modalClose"),modalInitEvent=new CustomEvent("modal.init"),modalBeforeOpenEvent=new CustomEvent("modal_before_open"),modalBeforeCloseEvent=new CustomEvent("modal.before.close");var openMod=function(){$("[data-modal]").map(function(){if($(window).width()>=768){$(this).on("click",modalEvent);var a=document.getElementById($(this).attr("data-modal"));if(!$(a).hasClass("init-modal")){a.dispatchEvent(modalInitEvent);$(a).addClass("init-modal")}}else{if(!$(this).hasClass("notModalMob")){$(this).on("click",modalEvent);var a=document.getElementById($(this).attr("data-modal"));if(!$(a).hasClass("init-modal")){a.dispatchEvent(modalInitEvent);$(a).addClass("init-modal")}}}});$(".modalsScroll").map(function(){var a=$(this);a.find(".closeModal").on("click",closeModal);a.find(".overlayModal").on("click",closeModal)})};var modalEvent=function(){if($(".blockMod.open").length>0){openOtherModal($(this))}else{openModal($(this))}};var openOtherModal=function(d){var c=document.getElementById(d.attr("data-modal")),a=$(c).parents(".modalsScroll"),b=a.find(".overlayModal");if(a.hasClass("open")){closeModalOnly();setTimeout(function(){openModalOnly(d)},500)}else{var e=$(".modalsScroll.open");closeModalsScroll(e);openModalsScroll($(c))}};var openModal=function(d){var c=document.getElementById(d.attr("data-modal")),a=$(c).parents(".modalsScroll"),b=a.find(".overlayModal");b.fadeIn(500);c.dispatchEvent(modalBeforeOpenEvent);$(c).addClass("open").fadeIn(500,function(){c.dispatchEvent(modalOpenEvent)});$("body").addClass("bodyModal").on("keydown",function(f){if(f.keyCode==27){closeModal()}});a.addClass("open")};var openModalsScroll=function(d){var c=document.getElementById(d.attr("id")),a=$(c).parents(".modalsScroll"),b=a.find(".overlayModal");b.fadeIn(500);c.dispatchEvent(modalBeforeOpenEvent);$(c).addClass("open").fadeIn(500,function(){c.dispatchEvent(modalOpenEvent)});a.addClass("open")};var openModalOnly=function(d){var c=document.getElementById(d.attr("data-modal")),a=$(c).parents(".modalsScroll"),b=a.find(".overlayModal");c.dispatchEvent(modalBeforeOpenEvent);$(c).addClass("open").fadeIn(500,function(){c.dispatchEvent(modalOpenEvent)})};var closeModal=function(){var a=$(".modalsScroll.open"),b=a.find(".overlayModal"),c=document.getElementById($(a).find(".blockMod.open").attr("id"));b.fadeOut(500);c.dispatchEvent(modalBeforeCloseEvent);$(c).fadeOut(500,function(){$(this).removeClass("open init-modal");$("body").removeClass("bodyModal").off("keydown");a.removeClass("open");c.dispatchEvent(modalCloseEvent)})};var closeModalsScroll=function(a){var b=$(a).find(".overlayModal"),c=document.getElementById($(a).find(".blockMod.open").attr("id"));b.fadeOut(500);c.dispatchEvent(modalBeforeCloseEvent);$(a).find(".blockMod.open").fadeOut(500,function(){$(this).removeClass("open init-modal");$(a).removeClass("open");c.dispatchEvent(modalCloseEvent)})};var closeModalOnly=function(){var a=document.getElementById($(".modalsScroll .blockMod.open").attr("id"));a.dispatchEvent(modalBeforeCloseEvent);$(".modalsScroll .blockMod.open").fadeOut(500,function(){$(this).removeClass("open");a.dispatchEvent(modalCloseEvent)})};